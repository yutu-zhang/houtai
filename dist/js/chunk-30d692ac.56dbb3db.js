(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30d692ac"],{"22ef":function(e,t,r){"use strict";var a=r("efe2");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"340f":function(e,t,r){var a=r("1e2c"),n=r("d910"),l=r("99ad"),o=r("22ef").UNSUPPORTED_Y;a&&("g"!=/./g.flags||o)&&n.f(RegExp.prototype,"flags",{configurable:!0,get:l})},"56fe":function(e,t,r){"use strict";var a=r("9aa2"),n=r.n(a);n.a},"62b0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{staticStyle:{"font-size":"15px","margin-bottom":"20px"},attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),r("el-card",{staticClass:"box-card"},[r("el-input",{staticClass:"input-with-select",attrs:{clearable:"",placeholder:"请输入内容"},on:{clear:e.getTable},model:{value:e.userParams.query,callback:function(t){e.$set(e.userParams,"query",t)},expression:"userParams.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getTable},slot:"append"})],1),r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加信息")]),r("el-dialog",{attrs:{title:"添加用户",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[r("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableMenu,border:""}},[r("el-table-column",{attrs:{label:"#",type:"index"}}),r("el-table-column",{attrs:{prop:"username",label:"姓名",width:"200"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"240"}}),r("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"220"}}),r("el-table-column",{attrs:{prop:"role_name",label:"角色",width:"200"}}),r("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(r){return e.changeState(t.row.id,t.row.mg_state)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"info",icon:"el-icon-edit",circle:""},on:{click:function(r){return e.bianji(t.row.id)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(r){return e.remove(t.row.id)}}}),r("el-tooltip",{attrs:{enterable:!1,content:"分类权限",placement:"top"}},[r("el-button",{attrs:{type:"warning",icon:"el-icon-setting",circle:""}})],1)]}}])})],1),r("el-dialog",{attrs:{title:"添加用户",visible:e.flags,width:"50%"},on:{"update:visible":function(t){e.flags=t}}},[r("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm1,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.ruleForm1.username,callback:function(t){e.$set(e.ruleForm1,"username",t)},expression:"ruleForm1.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.ruleForm1.email,callback:function(t){e.$set(e.ruleForm1,"email",t)},expression:"ruleForm1.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[r("el-input",{model:{value:e.ruleForm1.mobile,callback:function(t){e.$set(e.ruleForm1,"mobile",t)},expression:"ruleForm1.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.flags=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.yesbianji}},[e._v("确 定")])],1)],1),r("el-pagination",{staticStyle:{"margin-top":"30px"},attrs:{"current-page":e.userParams.pagenum,"page-sizes":[1,2,3,5],"page-size":e.userParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],l=(r("340f"),r("6a61"),r("cf7f")),o=r("7c15"),s={name:"",data:function(){var e=function(e,t,r){var a=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!t)return r(new Error("Email不能为空"));a.test(t)?r():r("请输入正确的email")},t=function(e,t,r){var a=/^1[3456789]\d{9}$/;if(!t)return r(new Error("手机号不能为空"));a.test(t)?r():r("请输入正确的手机号")};return{ruleForm1:{},flags:!1,tableMenu:[],userParams:{query:"",pagenum:1,pagesize:3},totalNum:1,dialogVisible:!1,ruleForm:{username:"",password:"",email:"",mobile:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:18,message:"长度在 3 到 18个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:18,message:"长度在 3 到 18个字符",trigger:"blur"}],email:[{required:!0,message:"请输入正确的email",trigger:"blur"},{validator:e}],mobile:[{required:!0,message:"请输入正确的手机号",trigger:"blur"},{validator:t}]}}},created:function(){},mounted:function(){this.getTable()},methods:{handleClick:function(e){console.log(e)},getTable:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["h"])(e.userParams);case 2:r=t.sent,a=r.data,console.log(a.data.users),e.tableMenu=a.data.users,e.totalNum=a.data.total;case 7:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.userParams.pagesize=e,this.getTable()},handleCurrentChange:function(e){this.userParams.pagenum=e,this.getTable()},changeState:function(e,t){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t.uId),a.next=3,Object(o["b"])(e,t);case 3:n=a.sent,l=n.data,console.log(l),200==l.meta.status&&r.$message({message:l.meta.msg,type:"success",duration:1e3});case 7:case"end":return a.stop()}}),a)})))()},submitUserAdd:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(e.ruleForm);case 2:r=t.sent,a=r.data,console.log(a),201==a.meta.status&&(e.$message({message:a.meta.msg,type:"success",duration:1e3}),e.dialogVisible=!1,e.getTable());case 6:case"end":return t.stop()}}),t)})))()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.submitUserAdd()}))},resetForm:function(e){this.$refs[e].resetFields()},remove:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["g"])("/api/private/v1/users/".concat(e));case 2:a=r.sent,a.data,t.getTable();case 5:case"end":return r.stop()}}),r)})))()},bianji:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["f"])("/api/private/v1/users/".concat(e));case 2:a=r.sent,n=a.data,console.log(n),t.ruleForm1=n.data,t.flags=!0;case 7:case"end":return r.stop()}}),r)})))()},yesbianji:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["i"])(e.ruleForm1);case 2:r=t.sent,r.data,e.getTable(),e.flags=!1;case 6:case"end":return t.stop()}}),t)})))()}}},i=s,u=(r("56fe"),r("9ca4")),c=Object(u["a"])(i,a,n,!1,null,"406a183e",null);t["default"]=c.exports},"99ad":function(e,t,r){"use strict";var a=r("857c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"9aa2":function(e,t,r){}}]);
//# sourceMappingURL=chunk-30d692ac.56dbb3db.js.map